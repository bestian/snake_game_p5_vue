(function(t){function n(n){for(var r,s,a=n[0],l=n[1],c=n[2],f=0,h=[];f<a.length;f++)s=a[f],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(n);while(h.length)h.shift()();return o.push.apply(o,c||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],r=!0,a=1;a<e.length;a++){var l=e[a];0!==i[l]&&(r=!1)}r&&(o.splice(n--,1),t=s(s.s=e[0]))}return t}var r={},i={app:0},o=[];function s(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=r,s.d=function(t,n,e){s.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,n){if(1&n&&(t=s(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)s.d(e,r,function(n){return t[n]}.bind(null,r));return e},s.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="/snake_game_p5_vue/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=n,a=a.slice();for(var c=0;c<a.length;c++)n(a[c]);var u=l;o.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("f751"),e("097d");var r=e("2b0e"),i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("HelloWorld")],1)},o=[],s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"hello"},[e("div",{ref:"canvas",staticClass:"canvas_container"}),e("button",{staticClass:"button is-warning is-large",attrs:{id:"left"},on:{click:function(n){return t.clickArrow(-1,0)}}},[t._v("⇦")]),e("button",{staticClass:"button is-warning is-large",attrs:{id:"up"},on:{click:function(n){return t.clickArrow(0,-1)}}},[t._v("⇧")]),e("button",{staticClass:"button is-warning is-large",attrs:{id:"down"},on:{click:function(n){return t.clickArrow(0,1)}}},[t._v("⇩")]),e("button",{staticClass:"button is-warning is-large",attrs:{id:"right"},on:{click:function(n){return t.clickArrow(1,0)}}},[t._v("⇨")]),e("span",{staticClass:"button is-warning is-large",attrs:{id:"score"}},[t._v(" 目前 "+t._s(t.s&&t.s.total)+" 分 ")])])},a=[],l=(e("6c7b"),e("237d")),c=e.n(l),u=(e("ac6a"),e("ac4d"),e("8a81"),e("5df3"),e("1c4c"),e("7f7f"),e("6b54"),e("d225")),f=e("b0b4");function h(t,n){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=d(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==e.return||e.return()}finally{if(a)throw o}}}}function d(t,n){if(t){if("string"===typeof t)return p(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(t,n):void 0}}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var y=20,v=function(){function t(n){Object(u["a"])(this,t),this.x=0,this.y=0,this.xspeed=1,this.yspeed=0,this.total=0,this.tail=[],this.p5=n}return Object(f["a"])(t,[{key:"eat",value:function(t){var n=this.p5.dist(this.x,this.y,t.x,t.y);return n<=1&&(this.total++,!0)}},{key:"dir",value:function(t,n){this.xspeed=t,this.yspeed=n}},{key:"death",value:function(){var t,n=h(this.tail);try{for(n.s();!(t=n.n()).done;){var e=t.value,r=this.p5.dist(this.x,this.y,e.x,e.y);r<1&&(alert("你已經死了"),this.total=0,this.tail=[])}}catch(i){n.e(i)}finally{n.f()}}},{key:"update",value:function(){for(var t=0;t<this.tail.length-1;t++)this.tail[t]=this.tail[t+1];this.total>=1&&(this.tail[this.total-1]=this.p5.createVector(this.x,this.y)),this.x+=this.xspeed*y,this.y+=this.yspeed*y,this.x=this.p5.constrain(this.x,0,y*this.p5.cols-y),this.y=this.p5.constrain(this.y,0,y*this.p5.rows-y)}},{key:"show",value:function(){this.p5.fill("rgba(245, 125, 20, 1)"),this.p5.rect(this.x,this.y,y,y),this.p5.noStroke();for(var t=0;t<this.tail.length;t++){var n=this.p5.map(t,0,this.tail.length,.2,.9);this.p5.fill("rgba(248, 231, 28,".concat(n,")")),this.p5.rect(this.tail[t].x,this.tail[t].y,y,y)}}}]),t}(),b=v,g={name:"HelloWorld",data:function(){return{script:null,ps:null,canvas:null,s:null,scl:20,food:null,time:0}},mounted:function(){var t=this;setInterval(this.go,100),this.script=function(n){n.setup=function(e){t.canvas=n.createCanvas(window.innerWidth-20,window.innerHeight-100),t.canvas.parent(t.$refs.canvas),t.s=new b(n),n.frameRate(10),n.pickLocation()},n.draw=function(e){n.background(0),n.push(),n.cols=n.floor(n.width/t.scl),n.rows=n.floor(n.height/t.scl),n.stroke(70);for(var r=0;r<=n.cols;r++)n.line(r*t.scl,0,r*t.scl,t.scl*n.rows);for(var i=0;i<=n.rows;i++)n.line(0,i*t.scl,t.scl*n.cols,i*t.scl);n.pop(),(t.s.eat(t.food)||100===t.time)&&(t.time=0,n.pickLocation()),n.fill("rgba(235, 0, 0, 1)"),n.circle(t.food.x+t.scl/2,t.food.y+t.scl/2,t.scl/2),t.s.update(),t.s.show(),t.s.death()},n.pickLocation=function(){var e=n.floor(n.width/t.scl),r=n.floor(n.height/t.scl);t.food=n.createVector(n.floor(n.random(e)),n.floor(n.random(r))),t.food.mult(t.scl)},n.keyPressed=function(e){n.keyCode===n.LEFT_ARROW||37===n.keyCode?t.s.dir(-1,0):n.keyCode===n.RIGHT_ARROW||39===n.keyCode?t.s.dir(1,0):n.keyCode===n.UP_ARROW||38===n.keyCode?t.s.dir(0,-1):n.keyCode===n.DOWN_ARROW||40===n.keyCode?t.s.dir(0,1):32===n.keyCode?(t.s.total++,t.s.update()):console.log("err",n.keyCode)}},this.ps=new c.a(this.script)},methods:{clickArrow:function(t,n){this.s.dir(t,n)},go:function(){this.time++}}},w=g,m=(e("bf48"),e("2877")),k=Object(m["a"])(w,s,a,!1,null,"a3ebb6be",null),x=k.exports,_={name:"app",components:{HelloWorld:x}},O=_,C=(e("5c0b"),Object(m["a"])(O,i,o,!1,null,null,null)),j=C.exports;e("92c6");r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(j)}}).$mount("#app")},"5c0b":function(t,n,e){"use strict";e("e332")},bf48:function(t,n,e){"use strict";e("d181")},d181:function(t,n,e){},e332:function(t,n,e){}});